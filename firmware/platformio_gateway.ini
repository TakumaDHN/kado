; PlatformIO Configuration for Light Tower Gateway
; ゲートウェイ用の設定ファイル
; このファイルを LightTower_Gateway/platformio.ini にコピーして使用してください

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

; シリアル通信設定
monitor_speed = 115200
upload_speed = 921600
monitor_filters =
    esp32_exception_decoder
    time

; アップロード設定（必要に応じてポートを変更）
; upload_port = COM3
; monitor_port = COM3

; 必要なライブラリ
lib_deps =
    ; W5500イーサネットモジュール
    khoih-prog/WebServer_ESP32_W5500@^1.5.3

    ; JSON処理（v6.x系を使用、v7は非互換）
    bblanchon/ArduinoJson@^6.21.3

    ; MQTTクライアント
    knolleary/PubSubClient@^2.8

    ; OTAドライブ（開発中は使用しないが、コンパイルに必要）
    otadrive/OTAdrive ESP32-Arduino@^2.0.0

    ; ESP32標準ライブラリ（自動的に含まれる）
    ; Wire
    ; SPI
    ; WiFi
    ; HTTPClient

; ビルドフラグ
build_flags =
    ; デバッグ設定
    -D DEBUG_ETHERNET_WEBSERVER_PORT=Serial
    -D _ETHERNET_WEBSERVER_LOGLEVEL_=3

    ; メモリ設定（必要に応じて）
    ; -D BOARD_HAS_PSRAM

    ; ESP32の周波数設定
    -D CONFIG_ESP32_DEFAULT_CPU_FREQ_240=y

; パーティション設定（OTA用に大きめのパーティションを使用）
board_build.partitions = default.csv

; ファイルシステム（SPIFFS）
board_build.filesystem = spiffs

; フラッシュモード
board_build.flash_mode = qio
board_build.flash_size = 4MB

; デバッグレベル（開発中は詳細ログを出力）
build_type = debug

; 追加のインクルードパス（必要に応じて）
; build_src_filter = +<*> -<.git/> -<.svn/>
